@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@import "./styles/_variables.scss";
@import "./styles/_keyframe-animations.scss";

/* .prose pre {
  background-color: #1d1f21 !important;
  border: 1px solid #3e4451;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
  @apply max-sm:max-w-90 
} */

/* Estilo para los bloques de c√≥digo */
.prose pre {
  background-color: #1d1f21 !important;
  border: 1px solid #3e4451;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);

  /* ESTO ARREGLA EL LAYOUT EN M√ìVIL */
  width: 100%;
  /* max-width: 100%;  */
  overflow-x: auto; /* Permite scroll horizontal */
  white-space: pre; /* Mantiene el formato del c√≥digo */
  word-spacing: normal;
  word-break: normal;

  /* Mejora visual */
  /* padding: 1.25rem !important; */
  border-radius: 0.75rem;
  @apply max-sm:max-w-80 max-w-120;
}

/* Personalizar la barra de scroll para que no se vea fea en m√≥viles */
/* .prose pre::-webkit-scrollbar {
  height: 6px;
} */

.prose pre::-webkit-scrollbar-thumb {
  background: #3e4451;
  border-radius: 10px;
}

.prose pre::-webkit-scrollbar-track {
  background: transparent;
}

/* Ajuste para las listas de tareas en m√≥vil */
ul[data-type="taskList"] {
  @apply pl-0 my-6;
}

ul[data-type="taskList"] li {
  @apply flex items-start mb-2 gap-3;
}

ul[data-type="taskList"] input[type="checkbox"] {
  @apply mt-1.5 shrink-0; /* Evita que el checkbox se aplaste */
}

/* Contenedor del pre + bot√≥n */
/* .code-wrapper {
  margin: 1.5rem 0;
  width: 100%;
} */

.code-wrapper pre {
  margin: 0 !important;

  padding: 3.5rem 1.5rem 1.5rem !important;
  border: none !important;
  background-color: transparent !important; 
}

/* Efecto de "funda" superior para que los botones siempre resalten */
.code-wrapper::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3rem;
  background: linear-gradient(
    to bottom,
    rgba(29, 31, 33, 1),
    rgba(29, 31, 33, 0)
  );
  pointer-events: none;
  z-index: 20;
}

@media (max-width: 640px) {
  .code-wrapper button {
    opacity: 1; /* Siempre visible en m√≥vil */
  }
}

/* Ajustes para n√∫meros de l√≠nea */
.prose pre.line-numbers {
  position: relative;
  padding-left: 3.8rem !important; /* Espacio para los n√∫meros */
  counter-reset: linenumber;
}

.line-numbers .line-numbers-rows {
  position: absolute;
  pointer-events: none;
  /* top: 3.5rem !important;  */
  /* left: 0 !important; */
  /* width: 3rem !important;  */
  letter-spacing: -1px;
  border-right: 1px solid #3e4451;
  user-select: none;
}

.line-numbers-rows span::before {
  display: block;
  content: counter(linenumber);
  /* counter-increment: linenumber; */
  text-align: right;
  padding-right: 0.8rem;
  color: #5c6370; /* Color gris suave para los n√∫meros */
}

/* Evitar que los n√∫meros se rompan en m√≥vil */
@media (max-width: 640px) {
  .prose pre.line-numbers {
    padding-left: 4rem !important;
  }
  .line-numbers .line-numbers-rows {
    width: 2.2rem !important;
  }
}

@theme {
  --animate-fade-in: fade-in 0.25s ease-out;

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* Shimmer Loading Effect */
@keyframes shimmer {
  0% {
    background-position: -700px 0;
  }
  100% {
    background-position: 700px 0;
  }
}

.shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.07) 0%,
    rgba(255, 255, 255, 0.13) 50%,
    rgba(255, 255, 255, 0.07) 100%
  );
  background-size: 700px 100%;
  animation: shimmer 1.4s infinite;
}

/* ‚ú® Efecto shimmer para skeletons */
.skeleton {
  @apply relative overflow-hidden bg-gray-300 dark:bg-gray-700;
}

.skeleton::after {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-150%);
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.5),
    transparent
  );
  animation: shimmer 1.6s infinite;
}

@keyframes shimmer {
  100% {
    transform: translateX(150%);
  }
}

/* Si quieres un brillo extra, a√±ade esto a tu index.css */
@keyframes tilt {
  0%,
  50%,
  100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(0.5deg);
  }
  75% {
    transform: rotate(-0.5deg);
  }
}
.animate-tilt {
  animation: tilt 4s infinite linear;
}

@keyframes badge-in {
  from {
    opacity: 0;
    transform: scale(0.85) translateY(6px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes badge-glow {
  0%,
  100% {
    box-shadow: 0 0 0 rgba(0, 0, 0, 0);
  }
  50% {
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.6);
  }
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* @theme {
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-in: in 0.3s ease-out;
  --animate-bounce: bounce 1s infinite;
  --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes in {
    from {
      opacity: 0;
      transform: translateY(8px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
    50% { transform: translateY(0); animation-timing-function: cubic-bezier(0,0,0.2,1); }
  }

  @keyframes ping {
    75%, 100% { transform: scale(2); opacity: 0; }
  }
} */

@theme {
  /* --- Animaciones base --- */
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-in: in 0.3s ease-out;
  --animate-bounce: bounce 1s infinite;
  --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  /* NUEVAS */
  --animate-slide-in-bottom: slide-in-bottom 0.35s ease-out;
  --animate-zoom-in: zoom-in 0.25s ease-out;

  /* --- Keyframes --- */

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes in {
    from {
      opacity: 0;
      transform: translateY(8px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* üëâ ESTE ES EL QUE TE FALTA */
  @keyframes slide-in-bottom {
    from {
      opacity: 0;
      transform: translateY(32px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* üëâ ESTE TAMBI√âN TE FALTA */
  @keyframes zoom-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes bounce {
    0%,
    100% {
      transform: translateY(-25%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }

  @keyframes ping {
    75%,
    100% {
      transform: scale(2);
      opacity: 0;
    }
  }
}

/* --- Clases de Utilidad para el Chat --- */
.animate-slide-in-bottom {
  animation: slide-in-bottom 0.35s ease-out forwards;
}

.zoom-in {
  animation: zoom-in 0.25s ease-out forwards;
}

/* Animaci√≥n de entrada para los mensajes */
.animate-in {
  animation: in 0.35s ease-out forwards;
}

/* Efecto de scroll suave y personalizado */
.custom-scrollbar::-webkit-scrollbar {
  width: 5px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #262626; /* neutral-800 */
  border-radius: 20px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #404040; /* neutral-700 */
}

/* Soporte para Firefox */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #262626 transparent;
}

/*memorama styles*/
.grand-blue {
  @apply bg-linear-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border-blue-200 dark:border-blue-700/30;
}

.grand-purple {
  @apply bg-linear-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-purple-200 dark:border-purple-700/30;
}

.grand-yellow {
  @apply bg-linear-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-yellow-900/20 dark:via-amber-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-700/30;
}

.grand-emerald {
  @apply bg-linear-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 border-emerald-200 dark:border-emerald-700/30;
}

@layer utilities {
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
}

.blog-editor-container {
  @apply bg-white dark:bg-black p-4;
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
